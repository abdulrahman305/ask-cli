namespace dialogs_non_deployable

import apis.getEmployeeDetails
import com.amazon.alexa.ask.conversations.Inform
import com.amazon.alexa.ask.conversations.Request
import com.amazon.alexa.ask.conversations.expect
import com.amazon.alexa.ask.conversations.response
import com.amazon.ask.types.builtins.AMAZON.DATE
import com.amazon.ask.types.builtins.AMAZON.NUMBER
import prompts.request_dob_getDate_apla
import prompts.request_getEmploeeID_apla
import prompts.request_name_apla
import slotTypes.complexNames
import types.complexResult
import utteracesets.informComplexNameEvent
import utteracesets.informDOBEvent
import utteracesets.informEmployeeIDEvent

dialog complexNames getName() {
  sample {
    response(
      response = request_name_apla,
      act = Request {
        arguments = [
          getEmployeeDetails.arguments.name1
        ]
      }
    )
    complexNamesReturn = expect(
      act = Inform,
      event = informComplexNameEvent
    )
    complexNamesReturn.name
  }
}

dialog NUMBER getEmploeeID() {
  sample {
    response(
      response = request_getEmploeeID_apla,
      act = Request {
        arguments = [
          getEmployeeDetails.arguments.emplyee1id
        ]
      }
    )
    empID = expect(
      act = Inform,
      event = informEmployeeIDEvent
    )
    empID.emplyee1id
  }
}

dialog DATE getDate() {
  sample {
    response(
      response = request_dob_getDate_apla,
      act = Request {
        arguments = [
          getEmployeeDetails.arguments.a_dateOfBirth
        ]
      }
    )
    dobEvent = expect(
      act = Inform,
      event = informDOBEvent
    )
    dobEvent.a_dateOfBirth
  }
}

dialog complexResult a_getEmployeeDetails(complexNames name1, NUMBER emplyee1id, DATE a_dateOfBirth) {
  sample {
    complexResultEvent = getEmployeeDetails(
      name1 = name1,
      emplyee1id = emplyee1id,
      a_dateOfBirth = a_dateOfBirth
    )
  }
}
