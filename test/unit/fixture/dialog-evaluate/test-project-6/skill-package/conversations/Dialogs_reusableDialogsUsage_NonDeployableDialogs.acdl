namespace reusableDialogs.NonDeployableDialogs

import apis.getEmployeeDetails
import com.amazon.alexa.ask.conversations.Invoke
import com.amazon.alexa.ask.conversations.Notify
import com.amazon.alexa.ask.conversations.expect
import com.amazon.alexa.ask.conversations.response
import com.amazon.alexa.schema.Nothing
import dialogs_non_deployable.a_getEmployeeDetails
import dialogs_non_deployable.getDate
import dialogs_non_deployable.getEmploeeID
import dialogs_non_deployable.getName
import prompts.getEmployeePosition_success_apla
import types.complexResult
import utteracesets.who_are_you

type PayLoadresult {
  complexResult result
}

dialog Nothing dilaog_getEmployeePosition() {
  sample {
    expect(
      Invoke,
      who_are_you
    )
    complexNamesEvent = getName()
    NUMBEREvent = getEmploeeID()
    DATEEvent = getDate()
    resultOne = a_getEmployeeDetails(
      name1 = complexNamesEvent,
      emplyee1id = NUMBEREvent,
      a_dateOfBirth = DATEEvent
    )
    response(
      getEmployeePosition_success_apla,
      Notify {
        actionName = getEmployeeDetails
      },
      nothing,
      PayLoadresult {
        result = resultOne
      },
      nothing
    )
  }
}
